const n=JSON.parse(`{"key":"v-a50a787a","path":"/interview/PHP/%E9%99%8C%E7%94%9F%E7%9F%A5%E8%AF%86.html","title":"陌生知识","lang":"zh-CN","frontmatter":{"description":"陌生知识 多进程同时读写一个文件 PHP解决多进程同时写一个文件的问题 functionwrite($str){ $fp=fopen($file,'a'); do{ usleep(100); }while(!flock($fp,LOCK_EX)); fwrite($fp,$str.PHP_EOL); flock($fp,LOCK_UN); fclose($fp); }","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/article/docs/interview/PHP/%E9%99%8C%E7%94%9F%E7%9F%A5%E8%AF%86.html"}],["meta",{"property":"og:site_name","content":"博客"}],["meta",{"property":"og:title","content":"陌生知识"}],["meta",{"property":"og:description","content":"陌生知识 多进程同时读写一个文件 PHP解决多进程同时写一个文件的问题 functionwrite($str){ $fp=fopen($file,'a'); do{ usleep(100); }while(!flock($fp,LOCK_EX)); fwrite($fp,$str.PHP_EOL); flock($fp,LOCK_UN); fclose($fp); }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"陌生知识\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"]]},"headers":[],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":0.65,"words":196},"filePathRelative":"interview/PHP/陌生知识.md","excerpt":"<h1> 陌生知识</h1>\\n<ol>\\n<li>多进程同时读写一个文件</li>\\n</ol>\\n<p>PHP解决多进程同时写一个文件的问题</p>\\n<div class=\\"language-php line-numbers-mode\\" data-ext=\\"php\\"><pre class=\\"language-php\\"><code><span class=\\"token function\\">functionwrite</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$str</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token variable\\">$fp</span><span class=\\"token operator\\">=</span><span class=\\"token function\\">fopen</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$file</span><span class=\\"token punctuation\\">,</span><span class=\\"token string single-quoted-string\\">'a'</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token keyword\\">do</span><span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token function\\">usleep</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">100</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span><span class=\\"token keyword\\">while</span><span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">!</span><span class=\\"token function\\">flock</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$fp</span><span class=\\"token punctuation\\">,</span><span class=\\"token constant\\">LOCK_EX</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token function\\">fwrite</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$fp</span><span class=\\"token punctuation\\">,</span><span class=\\"token variable\\">$str</span><span class=\\"token operator\\">.</span><span class=\\"token constant\\">PHP_EOL</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token function\\">flock</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$fp</span><span class=\\"token punctuation\\">,</span><span class=\\"token constant\\">LOCK_UN</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token function\\">fclose</span><span class=\\"token punctuation\\">(</span><span class=\\"token variable\\">$fp</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
